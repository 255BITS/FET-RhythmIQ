{% extends "base.html" %}

{% block content %}
<div class="player-content" x-data="{ isPlaying: false }">
    <div class="visualizer-container">
        <div class="visualizer" id="audio-visualizer">
            <!-- Bars will be generated via JS -->
            {% for i in range(32) %}
            <div class="visualizer-bar"></div>
            {% endfor %}
        </div>
    </div>
    
    <div class="now-playing">
        <span class="label">Now Playing:</span>
        <span class="song-title" id="current-song" 
              hx-get="/current-song"
              hx-trigger="load, every 5s">
            AI Generated Synthwave
        </span>
    </div>
    
    <div class="progress-bar" id="song-progress"></div>
    
    <div class="controls">
        <button class="control-btn play-btn" 
                x-on:click="isPlaying = !isPlaying"
                x-bind:class="{ 'active': isPlaying }"
                hx-post="/toggle-play"
                hx-swap="none">
            <span class="play-icon" x-text="isPlaying ? '⏸' : '▶'"></span>
        </button>
        <button class="control-btn skip-btn" 
                hx-post="/skip-song"
                hx-swap="none">
            <span class="skip-icon">⏭</span>
        </button>
    </div>
    
    <div class="queue-section">
        <h2 class="queue-title">Queue</h2>
        <div class="queue-list"
             id="queue-container"
             hx-get="/queue"
             hx-trigger="load, every 5s"
             hx-swap="innerHTML">
        </div>
    </div>
</div>
{% endblock %}
